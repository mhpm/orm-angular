<p-table [value]="dataSource">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Avatar</th>
      <th>Name</th>
      <th>Last</th>
      <th>Email</th>
      <th></th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr>
      <td>{{ user.id }}</td>
      <td>
        <p-avatar [image]="user.avatar" styleClass="mr-2" shape="circle" />
      </td>
      <td>{{ user.first_name }}</td>
      <td>{{ user.last_name }}</td>
      <td>{{ user.email }}</td>
      <td>
        <p-button
          (click)="editUser(user)"
          label="Edit"
          severity="secondary"
          size="small"
          [text]="true"
          severity="secondary"
        />
      </td>
      <td>
        <p-button
          (click)="deleteUser(user)"
          label="Delete"
          severity="danger"
          size="small"
          [text]="true"
          severity="danger"
        />
      </td>
    </tr>
  </ng-template>
</p-table>

<div class="card flex justify-center">
  <p-dialog
    header="Edit Profile"
    [modal]="true"
    [(visible)]="isEditFormVisible"
    [style]="{ width: '25rem' }"
  >
    <app-user-edit
      [user]="selectedUser"
      (onSave)="onUserSave($event)"
      (onClose)="isEditFormVisible = false"
    ></app-user-edit>
  </p-dialog>
</div>
